(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{yPrK:function(t,n,o){"use strict";o.r(n),o.d(n,"SettingsPageModule",(function(){return y}));var e=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),s=o("mrSG"),c=o("IY3H"),l=o("fXoL"),u=o("ri4K"),b=o("m/P+"),d=o("P12i");function p(t,n){if(1&t){var o=l.Lb();l.Kb(0,"ion-item",9),l.Sb("click",(function(){return l.cc(o),l.Ub().openListLocation()})),l.Ib(1,"ion-icon",16),l.gc(2," List Your Location "),l.Jb()}}var h=function(t){return[t]};function f(t,n){if(1&t&&(l.Kb(0,"ion-item",17),l.Ib(1,"ion-icon",16),l.gc(2," My Location "),l.Jb()),2&t){var o=l.Ub();l.Xb("routerLink",l.Zb(1,h,"/location/"+o.user.location.id))}}var g=function(){return["/manage-locations/"]};function m(t,n){1&t&&(l.Kb(0,"ion-item",17),l.Ib(1,"ion-icon",18),l.gc(2," Manage Locations "),l.Jb()),2&t&&l.Xb("routerLink",l.Yb(1,g))}var w=function(){return["/notifications"]},C=[{path:"",component:function(){function t(t,n,o,e,i,r,a){var s=this;this.plt=t,this.authenticationService=n,this.alertCtrl=o,this.iab=e,this.modalController=i,this.locationService=r,this.loadingController=a,this.user={},this.authenticationService.getUserData().subscribe((function(t){s.user=t}))}return t.prototype.ngOnInit=function(){},t.prototype.ionViewDidEnter=function(){},t.prototype.openListLocation=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,n=this;return Object(s.c)(this,(function(o){switch(o.label){case 0:return[4,this.modalController.create({component:c.a,componentProps:{}})];case 1:return(t=o.sent()).onDidDismiss().then((function(t){var o;t&&t.data&&(n.loadingController.create({message:"Your location is being submitted. Please wait...",duration:2e4}).then((function(t){o=t,t.present()})),n.locationService.createLocation(t.data.location).then((function(t){n.alertCtrl.create({header:"Success",message:"Your location has been submitted and is currently under review. Once approved, your location will be listed in the app for other users to find. ",buttons:[{text:"Dismiss",role:"cancel",handler:function(t){}}]}).then((function(t){t.present()})),o.dismiss()})).catch((function(){n.alertCtrl.create({header:"Error",message:"There was an error submitting your location. Please try again.",buttons:[{text:"Dismiss",role:"cancel",handler:function(t){}}]}).then((function(t){t.present()})),o.dismiss()})))})),[4,t.present()];case 2:return o.sent(),[2]}}))}))},t.prototype.openRate=function(){this.plt.is("ios")?this.iab.create("https://itunes.apple.com/","_system"):this.iab.create("https://play.google.com/store/apps/details?id=com.foodie.app","_system")},t.prototype.openFollow=function(){this.iab.create("https://www.facebook.com/","_system")},t.prototype.openEmail=function(){this.iab.create("mailto:stayc.dean@gmail.com","_system")},t.prototype.openChangePassword=function(){var t=this;this.alertCtrl.create({header:"Change Password",inputs:[{name:"password",placeholder:"Password",type:"password"},{name:"confirmPassword",placeholder:"Confirm Password",type:"password"}],buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Change",handler:function(n){n.password&&n.confirmPassword&&n.password===n.confirmPassword?t.authenticationService.changePassword(t.user.email,n.password,n.confirmPassword).then((function(){t.alertCtrl.create({header:"Success",message:"Your password has been updated",buttons:[{text:"Dismiss",role:"cancel",handler:function(t){}}]}).then((function(t){t.present()}))})).catch((function(){t.alertCtrl.create({header:"Error",message:"There was an error while changing your password.",buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Try Again",handler:function(n){setTimeout((function(){t.openChangePassword()}),200)}}]}).then((function(t){t.present()}))})):t.alertCtrl.create({header:"Error",message:"Passwords do not match",buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Try Again",handler:function(n){setTimeout((function(){t.openChangePassword()}),200)}}]}).then((function(t){t.present()}))}}]}).then((function(t){t.present()}))},t.prototype.logout=function(){this.authenticationService.logout()},t.\u0275fac=function(n){return new(n||t)(l.Hb(r.N),l.Hb(u.a),l.Hb(r.a),l.Hb(b.a),l.Hb(r.K),l.Hb(d.a),l.Hb(r.J))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-settings"]],decls:34,vars:5,consts:[[1,"browse-header"],["color","light"],["src","assets/Foodie_Logo_NT_OrangeDark.svg"],["slot","end"],["routerDirection","forward",3,"routerLink"],["slot","icon-only","color","medium","name","notifications-outline"],[1,"settings-list"],["detail","",3,"click",4,"ngIf"],["routerDirection","forward","detail","",3,"routerLink",4,"ngIf"],["detail","",3,"click"],["name","heart-outline","slot","start"],["name","logo-facebook","slot","start"],["name","mail-outline","slot","start"],["name","lock-open-outline","slot","start"],[3,"click"],["name","lock-closed-outline","slot","start"],["name","business-outline","slot","start"],["routerDirection","forward","detail","",3,"routerLink"],["name","checkmark-circle-outline","slot","start"]],template:function(t,n){1&t&&(l.Kb(0,"ion-header",0),l.Kb(1,"ion-toolbar",1),l.Kb(2,"ion-title"),l.Ib(3,"img",2),l.Jb(),l.Kb(4,"ion-buttons",3),l.Kb(5,"ion-button",4),l.Ib(6,"ion-icon",5),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(7,"ion-content"),l.Kb(8,"ion-list",6),l.Kb(9,"ion-list-header"),l.gc(10,"Location"),l.Jb(),l.fc(11,p,3,0,"ion-item",7),l.fc(12,f,3,3,"ion-item",8),l.fc(13,m,3,2,"ion-item",8),l.Kb(14,"ion-list-header"),l.gc(15,"Support"),l.Jb(),l.Kb(16,"ion-item",9),l.Sb("click",(function(){return n.openRate()})),l.Ib(17,"ion-icon",10),l.gc(18," Rate The App "),l.Jb(),l.Kb(19,"ion-item",9),l.Sb("click",(function(){return n.openFollow()})),l.Ib(20,"ion-icon",11),l.gc(21," Follow Us "),l.Jb(),l.Kb(22,"ion-item",9),l.Sb("click",(function(){return n.openEmail()})),l.Ib(23,"ion-icon",12),l.gc(24," Contact Support "),l.Jb(),l.Kb(25,"ion-list-header"),l.gc(26,"Account Settings"),l.Jb(),l.Kb(27,"ion-item",9),l.Sb("click",(function(){return n.openChangePassword()})),l.Ib(28,"ion-icon",13),l.Kb(29,"ion-label"),l.gc(30,"Change Password"),l.Jb(),l.Jb(),l.Kb(31,"ion-item",14),l.Sb("click",(function(){return n.logout()})),l.Ib(32,"ion-icon",15),l.gc(33," Logout "),l.Jb(),l.Jb(),l.Jb()),2&t&&(l.xb(5),l.Xb("routerLink",l.Yb(4,w)),l.xb(6),l.Xb("ngIf",!n.user.location),l.xb(1),l.Xb("ngIf",n.user.location),l.xb(1),l.Xb("ngIf","admin"===n.user.permission))},directives:[r.k,r.G,r.F,r.h,r.g,r.O,a.h,r.l,r.i,r.r,r.s,e.j,r.p,r.q],styles:[".browse-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid #f3f3f3}.browse-header.header-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding-top:6px;padding-bottom:6px;border-bottom:none;--border-color:#f3f3f3;--border-width:0 0 1px}.browse-header.header-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{padding-left:20px;text-align:left}.browse-header[_ngcontent-%COMP%]:after{background-image:none}.browse-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:26.73px}.settings-list[_ngcontent-%COMP%]   ion-list-header.ios[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin-top:10px;margin-bottom:5px}.settings-list[_ngcontent-%COMP%]   ion-icon.ios[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb,0,0,0),.54);font-size:24px}"]}),t}()}],P=function(){function t(){}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(n){return new(n||t)},imports:[[a.j.forChild(C)],a.j]}),t}(),y=function(){function t(){}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(n){return new(n||t)},imports:[[e.b,i.a,r.H,P]]}),t}()}}]);