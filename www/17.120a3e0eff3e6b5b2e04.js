(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{BEPN:function(t,n,o){"use strict";o.d(n,"a",(function(){return e}));var a=o("mrSG"),i=o("fXoL"),e=function(){function t(){}return t.prototype.getClosestCity=function(t,n,o){var i,e,r,p,l=this.getCities();try{for(var s=Object(a.d)(l),u=s.next();!u.done;u=s.next())if(t.indexOf((m=u.value).city)>-1)return m.city}catch(b){i={error:b}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(i)throw i.error}}var c="Auckland";try{for(var g=Object(a.d)(l),d=g.next();!d.done;d=g.next()){var m;this.latLngDist((m=d.value).lat,m.lng,n,o)<99999&&(c=m.city)}}catch(y){r={error:y}}finally{try{d&&!d.done&&(p=g.return)&&p.call(g)}finally{if(r)throw r.error}}return c},t.prototype.latLngDist=function(t,n,o,a){function i(t){return t*Math.PI/180}return function(t,n,o,a){t=i(t),o=i(o),n=i(n);var e=((a=i(a))-n)*Math.cos((t+o)/2),r=o-t;return 3959*Math.sqrt(e*e+r*r)}(t,n,o,a)},t.prototype.getCities=function(){return[{city:"Auckland",admin:"",country:"New Zealand",population_proper:"395982",iso2:"NZ",capital:"",lat:"-36.866667",lng:"174.766667",population:"1377200",image:"http://www.backpackerbus.co.nz/wp-content/uploads/Auckland-Harbour-at-night.jpg"},{city:"Wellington",admin:"",country:"New Zealand",population_proper:"393400",iso2:"NZ",capital:"primary",lat:"-41.3",lng:"174.783333",population:"393400",image:"https://img.theculturetrip.com/768x432/wp-content/uploads/2017/01/wellington_city_at_dusk.jpg"},{city:"Christchurch",admin:"Canterbury",country:"New Zealand",population_proper:"363200",iso2:"NZ",capital:"",lat:"-43.533333",lng:"172.633333",population:"363200",image:"https://live.staticflickr.com/4027/4708156945_4d948687de_b.jpg"},{city:"Waitakere",admin:"",country:"New Zealand",population_proper:"208100",iso2:"NZ",capital:"",lat:"-36.85",lng:"174.55",population:"208100",image:"https://www.newzealand.com/assets/Tourism-NZ/Auckland/3641051356/img-1536924181-5046-5833-44E76CBE-E486-BBC9-804410866EE48326__FocalPointCropWzQyNyw2NDAsNTYsNTAsODUsImpwZyIsNjUsMi41XQ.jpg"},{city:"Northcote",admin:"",country:"New Zealand",population_proper:"205605",iso2:"NZ",capital:"",lat:"-36.815278",lng:"174.745833",population:"205605",image:"https://www.northcote.school.nz/media/images/13717872918a66a079731248e792151869065398cb.jpg"},{city:"Hamilton",admin:"",country:"New Zealand",population_proper:"148200",iso2:"NZ",capital:"",lat:"-37.783333",lng:"175.283333",population:"148200",image:"https://www.lyndalee.co.nz/images/418423/hamilton-city-night.jpg"},{city:"Tauranga",admin:"",country:"New Zealand",population_proper:"121500",iso2:"NZ",capital:"",lat:"-37.686111",lng:"176.166667",population:"121500",image:"https://upload.wikimedia.org/wikipedia/commons/4/45/Tauranga_at_night.jpg"},{city:"Dunedin",admin:"Otago",country:"New Zealand",population_proper:"117700",iso2:"NZ",capital:"",lat:"-45.866667",lng:"170.5",population:"117700",image:"https://i.pinimg.com/originals/d6/79/41/d6794134ba5c30b2cb9a9129f647d464.jpg"},{city:"Lower Hutt",admin:"",country:"New Zealand",population_proper:"102400",iso2:"NZ",capital:"",lat:"-41.216667",lng:"174.916667",population:"102400",image:"http://gabisworld.com/data_images/top_cityes/lower-hutt/lower-hutt-01.jpg"},{city:"Palmerston North",admin:"",country:"New Zealand",population_proper:"82400",iso2:"NZ",capital:"",lat:"-40.35",lng:"175.616667",population:"82400",image:"https://pix10.agoda.net/hotelImages/108/108616/108616_14062508110020015006.jpg"},{city:"Nelson",admin:"Nelson",country:"New Zealand",population_proper:"60800",iso2:"NZ",capital:"",lat:"-41.273459",lng:"173.282347",population:"60800",image:"https://www.newzealand.com/assets/Tourism-NZ/Nelson/c3fb763d4a/img-1536011461-3107-3327-2724284081_c1802f9e75_o__FocalPointCropWzQyNyw2NDAsNjQsMzAsODUsImpwZyIsNjUsMi41XQ.jpg"},{city:"Napier",admin:"",country:"New Zealand",population_proper:"57800",iso2:"NZ",capital:"",lat:"-39.483333",lng:"176.916667",population:"57800",image:"https://cdn.newzealandnow.govt.nz/sites/default/files/styles/carousel_images/public/field-uploads/Hawke%27s-Bay-Napier-sound-shell.jpg?itok=DUKrxyr5"},{city:"Porirua",admin:"",country:"New Zealand",population_proper:"52500",iso2:"NZ",capital:"",lat:"-41.133333",lng:"174.833333",population:"52500",image:"https://www.aa.co.nz/assets/NEW-AA-TRAVELLER/EDITORIAL-LOCATIONS/Porirua/_resampled/ScaleWidthWyI3OTUiXQ/Looking-over-Porirua-at-sunset.jpg?m=1518187581?m=1518187581"},{city:"New Plymouth",admin:"",country:"New Zealand",population_proper:"52500",iso2:"NZ",capital:"",lat:"-39.066667",lng:"174.083333",population:"52500",image:"https://www.newzealand.com/assets/Tourism-NZ/Taranaki/d959ecee13/img-1536905168-3686-29020-A179AA59-FF95-B4A2-CC3356A1DE9B9492__FocalPointCropWzQyMCw5NjAsNDgsMzcsNzUsImpwZyIsNjUsMi41XQ.jpg"},{city:"Invercargill",admin:"Southland",country:"New Zealand",population_proper:"49200",iso2:"NZ",capital:"",lat:"-46.428681",lng:"168.361596",population:"49200",image:"https://icc.govt.nz/wp-content/uploads/2019/03/Invercargill-banner-560x250.jpg"},{city:"Wanganui",admin:"",country:"New Zealand",population_proper:"43200",iso2:"NZ",capital:"",lat:"-39.933333",lng:"175.05",population:"43200",image:"https://www.salvationarmy.org.nz/sites/default/files/styles/hero_image/public/city/image/20130710Wanganuiareapic.jpg?itok=iLigeEnq"},{city:"Gisborne",admin:"",country:"New Zealand",population_proper:"34300",iso2:"NZ",capital:"",lat:"-38.653333",lng:"178.004167",population:"34300",image:"https://farm1.staticflickr.com/763/32776550765_a6dc255a65_o.jpg"},{city:"Timaru",admin:"Canterbury",country:"New Zealand",population_proper:"27200",iso2:"NZ",capital:"",lat:"-44.398444",lng:"171.255194",population:"27200",image:"https://resources.stuff.co.nz/content/dam/images/1/q/m/x/2/d/image.related.StuffLandscapeSixteenByNine.710x400.1qi41a.png/1530592019629.jpg"},{city:"Pukekohe",admin:"",country:"New Zealand",population_proper:"26300",iso2:"NZ",capital:"",lat:"-37.2",lng:"174.95",population:"26300",image:"https://www.osbornerealty.co.nz/pages/237/userfiles/pukekohe%20aerial.jpg"},{city:"Paraparaumu",admin:"",country:"New Zealand",population_proper:"25263",iso2:"NZ",capital:"",lat:"-40.9",lng:"174.983333",population:"25263",image:"https://static2.stuff.co.nz/1346027988/474/7555474.jpg"},{city:"Taupo",admin:"",country:"New Zealand",population_proper:"22600",iso2:"NZ",capital:"",lat:"-38.683333",lng:"176.083333",population:"22600",image:"https://farmersweekly.co.nz/assets/uploaded-files/2019-07/Taupo-flat.jpg"},{city:"Masterton",admin:"",country:"New Zealand",population_proper:"20200",iso2:"NZ",capital:"",lat:"-40.959722",lng:"175.6575",population:"20200",image:"https://cdn.britannica.com/23/143923-050-6F0F239D/Masterton-North-Island-NZ.jpg"},{city:"Levin",admin:"",country:"New Zealand",population_proper:"19550",iso2:"NZ",capital:"",lat:"-40.633333",lng:"175.275",population:"19550",image:"http://www.nzonline.org.nz/images/uploaded/regions/1330302294_large.jpg"},{city:"Whakatane",admin:"",country:"New Zealand",population_proper:"18700",iso2:"NZ",capital:"",lat:"-37.983333",lng:"177.0",population:"18700",image:"https://i.pinimg.com/originals/91/c9/b3/91c9b39eb3aa369012ed9202060dedb3.jpg"},{city:"Tokoroa",admin:"",country:"New Zealand",population_proper:"13350",iso2:"NZ",capital:"",lat:"-38.233333",lng:"175.866667",population:"13350",image:"https://tokoroaweather.net/images/tokoroa_town.jpg"},{city:"Hawera",admin:"",country:"New Zealand",population_proper:"11100",iso2:"NZ",capital:"",lat:"-39.591667",lng:"174.283333",population:"11100",image:"https://www.southtaranaki.com/ProcessImage/uploaded_images/Community%20Development/Hawera%20Sunset%20And%20Mount.jpg?w=530"},{city:"Greymouth",admin:"West Coast",country:"New Zealand",population_proper:"10100",iso2:"NZ",capital:"",lat:"-42.451111",lng:"171.206778",population:"10100",image:"https://www.newzealand.com/assets/Tourism-NZ/Other/46d75c4f00/img-1536964234-1122-17411-p-B5895D9C-BCD8-3537-83CECEFBF310F29A-2544003__FocalPointCropWzQyNyw2NDAsNTAsNTAsODUsImpwZyIsNjUsMi41XQ.jpg"},{city:"Thames",admin:"",country:"New Zealand",population_proper:"6756",iso2:"NZ",capital:"",lat:"-37.133333",lng:"175.533333",population:"6756"},{city:"Kerikeri",admin:"",country:"New Zealand",population_proper:"5856",iso2:"NZ",capital:"",lat:"-35.216667",lng:"173.966667",population:"5856"},{city:"Wanaka",admin:"Otago",country:"New Zealand",population_proper:"5037",iso2:"NZ",capital:"",lat:"-44.709755",lng:"169.129417",population:"5037"},{city:"Westport",admin:"West Coast",country:"New Zealand",population_proper:"3900",iso2:"NZ",capital:"",lat:"-41.752685",lng:"171.583402",population:"3900"},{city:"Turangi",admin:"",country:"New Zealand",population_proper:"3240",iso2:"NZ",capital:"",lat:"-39.0",lng:"175.933333",population:"3240"},{city:"Hokitika",admin:"West Coast",country:"New Zealand",population_proper:"3078",iso2:"NZ",capital:"",lat:"-42.717214",lng:"170.963713",population:"3078"},{city:"Waioruarangi",admin:"",country:"New Zealand",population_proper:"2172",iso2:"NZ",capital:"",lat:"-42.4",lng:"173.683333",population:"2172"},{city:"Te Anau",admin:"Southland",country:"New Zealand",population_proper:"1857",iso2:"NZ",capital:"",lat:"-45.414649",lng:"167.715672",population:"1857"},{city:"Waitangi",admin:"",country:"New Zealand",population_proper:"300",iso2:"NZ",capital:"",lat:"-43.95",lng:"-176.533333",population:"300"}]},t.\u0275prov=i.Db({token:t,factory:t.\u0275fac=function(n){return new(n||t)},providedIn:"root"}),t}()},UUSl:function(t,n,o){"use strict";o.r(n),o.d(n,"SignupPageModule",(function(){return b}));var a=o("ofXK"),i=o("3Pt+"),e=o("tyNb"),r=o("TEn/"),p=o("mrSG"),l=o("fXoL"),s=o("ri4K"),u=o("BEPN");function c(t,n){if(1&t&&(l.Kb(0,"ion-select-option",15),l.gc(1),l.Jb()),2&t){var o=n.$implicit;l.Xb("value",o.city),l.xb(1),l.hc(o.city)}}function g(t,n){if(1&t&&(l.Kb(0,"p",16),l.gc(1),l.Jb()),2&t){var o=l.Ub();l.xb(1),l.hc(o.user.error)}}function d(t,n){1&t&&l.Ib(0,"ion-spinner")}var m=[{path:"",component:function(){function t(t,n){this.authService=t,this.cityService=n,this.user={email:"",password:"",error:"",city:"Auckland",latitude:-36.866667,longitude:174.766667,loading:!1},this.cities=[],this.setCities()}return t.prototype.ngOnInit=function(){},t.prototype.signup=function(){var t=this;this.user.loading=!0,this.user.error="",this.authService.register(this.user).then((function(){t.user.loading=!1,t.authService.retreiveUserData().then((function(){}))})).catch((function(n){if(t.user.loading=!1,n&&n.error)for(var o in n.error.error.errors)t.user.error=t.user.error+n.error.error.errors[o]+" ";else t.user.error=n.message}))},t.prototype.cityChanged=function(){var t,n;try{for(var o=Object(p.d)(this.cities),a=o.next();!a.done;a=o.next()){var i=a.value;i.city===this.user.city&&(this.user.latitude=i.lat,this.user.longitidue=i.lng)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},t.prototype.setCities=function(){this.cities=this.cityService.getCities()},t.\u0275fac=function(n){return new(n||t)(l.Hb(s.a),l.Hb(u.a))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-signup"]],decls:42,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/login"],[1,"signup"],[1,"signup__form"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["clearInput","","type","password",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full","shape","round",1,"signup-footer__button",3,"disabled","click"],[4,"ngIf"],[3,"value"],[1,"signup__form__error"]],template:function(t,n){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-buttons",1),l.Ib(3,"ion-back-button",2),l.Jb(),l.Kb(4,"ion-title"),l.gc(5,"Sign up"),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-content",3),l.Kb(7,"ion-list",4),l.Kb(8,"ion-item"),l.Kb(9,"ion-label",5),l.gc(10,"Email"),l.Jb(),l.Kb(11,"ion-input",6),l.Sb("ngModelChange",(function(t){return n.user.email=t})),l.Jb(),l.Jb(),l.Kb(12,"ion-item"),l.Kb(13,"ion-label",5),l.gc(14,"First Name"),l.Jb(),l.Kb(15,"ion-input",7),l.Sb("ngModelChange",(function(t){return n.user.first_name=t})),l.Jb(),l.Jb(),l.Kb(16,"ion-item"),l.Kb(17,"ion-label",5),l.gc(18,"Last Name"),l.Jb(),l.Kb(19,"ion-input",7),l.Sb("ngModelChange",(function(t){return n.user.last_name=t})),l.Jb(),l.Jb(),l.Kb(20,"ion-item"),l.Kb(21,"ion-label",5),l.gc(22,"Mobile"),l.Jb(),l.Kb(23,"ion-input",7),l.Sb("ngModelChange",(function(t){return n.user.phone=t})),l.Jb(),l.Jb(),l.Kb(24,"ion-item"),l.Kb(25,"ion-label",5),l.gc(26,"City"),l.Jb(),l.Kb(27,"ion-select",8),l.Sb("ngModelChange",(function(t){return n.user.city=t}))("ionChange",(function(){return n.cityChanged()})),l.fc(28,c,2,2,"ion-select-option",9),l.Jb(),l.Jb(),l.Kb(29,"ion-item"),l.Kb(30,"ion-label",5),l.gc(31,"Password"),l.Jb(),l.Kb(32,"ion-input",10),l.Sb("ngModelChange",(function(t){return n.user.password=t})),l.Jb(),l.Jb(),l.Kb(33,"ion-item"),l.Kb(34,"ion-label",5),l.gc(35,"Confirm Password"),l.Jb(),l.Kb(36,"ion-input",10),l.Sb("ngModelChange",(function(t){return n.user.confirm_password=t})),l.Jb(),l.Jb(),l.fc(37,g,2,1,"p",11),l.Jb(),l.Jb(),l.Kb(38,"ion-footer",12),l.Kb(39,"ion-button",13),l.Sb("click",(function(){return n.signup()})),l.gc(40," Get Started "),l.fc(41,d,1,0,"ion-spinner",14),l.Jb(),l.Jb()),2&t&&(l.xb(11),l.Xb("ngModel",n.user.email),l.xb(4),l.Xb("ngModel",n.user.first_name),l.xb(4),l.Xb("ngModel",n.user.last_name),l.xb(4),l.Xb("ngModel",n.user.phone),l.xb(4),l.Xb("ngModel",n.user.city),l.xb(1),l.Xb("ngForOf",n.cities),l.xb(4),l.Xb("ngModel",n.user.password),l.xb(4),l.Xb("ngModel",n.user.confirm_password),l.xb(1),l.Xb("ngIf",n.user.error),l.xb(2),l.Xb("disabled",n.user.loading),l.xb(2),l.Xb("ngIf",n.user.loading))},directives:[r.k,r.G,r.h,r.e,r.f,r.F,r.i,r.r,r.p,r.q,r.o,r.Q,i.d,i.g,r.y,r.P,a.i,a.j,r.j,r.g,r.z,r.A],styles:[".signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup-footer[_ngcontent-%COMP%]{background-color:#fff}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),t}()}],b=function(){function t(){}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(n){return new(n||t)},imports:[[a.b,i.a,r.H,e.j.forChild(m)]]}),t}()}}]);